
Documents are similar to rows in mongo db.
Collections are analogues to tables in mongo db.
Collections are stored in databases in mongo db, which serves as the namespaces for the collections.

You can create a database by just typing <switch database>   note <> are not included in command.
On creating databases and collections
You may be wondering how you can switch to the tutorial database without explicitly
creating it. In fact, creating the database isn’t required. Databases and collections
are created only when documents are first inserted. This behavior is consistent with
MongoDB’s dynamic approach to data; just as the structure of documents needn’t
be defined in advance, individual collections and databases can be created at runtime.
This can lead to a simplified and accelerated development process. That said,
if you’re concerned about databases or collections being created accidentally, most
of the drivers let you enable a strict mode to prevent such careless errors.

Every document needs to have a unique id in the collection. And ids are unique within collections, even though
You can have the same ids in different collections. But within collections ids are unique, if you don’t insert one ,it will be generated by mongo for you.  
Just type Object Id  ,and a random object Id will be generated for you.
To insert documents, use command
Db.<collectionsName>.insert(<document>)
Eg.
Db.users.insert({username:”Shailendra”})

To get the documents count use 
Db.<collections>.count()

---to find documents use command find()----
Db.<collections>.find()

--also you can pass the predicate to the find function----
db.<collections>.find(<predicate>)
--note you can pass the subset of the orignal json to the find method,and mongo will compare it agains all the documetns in the collection.
db.<collections>.find({username:"shailendra"})
eg.
users.find({"username":"shailendra"}) will bring the follwing results
{ "_id" : ObjectId("5dd7c109ba09509ffb49faac"), "username" : "shailendra" }
{ "_id" : "shailendra_id", "username" : "shailendra" }
{ "_id" : ObjectId("5dd7ca51ba09509ffb49faaf"), "username" : "shailendra", "favorite_actors" : [ "alpachino", "Matthew McConaughey" ] }

--calling find without any argumetns will resturn all the resutls in the collection.
eg  users.find({})

----you can also provide tthe AND condition by providing more than one predicate

eg users.find({<firstdocument>},{<secondDocument>})
or you can specify the AND condition explicitly using $and:[<conditionA>,<conditionB>]

eg. db.users.find(${$and:[]})
db.users.find({$and:[{username:"shailendra"},{"favorite_actors":["alpachino","Matthew McConaughey"]}]})


---Similarly you can use OR command or $or operator.
eg db.users.find({$or[<condtionA>,<conditonB>]})

--Updating documents ,require 2 arguments,doducmetn identfier,and how to update the document operation.
default update() ,will update a single document.
there are 2 types of updates,one involves applying modification operation to existing documents,and other involves replacing the old document with new one.
* opeator update
db.users.update({"username:"shailendra"},{$set:{<columnName>:<columnvalue>}})

* replacement update
use this update with caution because this will repalce the matching condtion with the new one.
eg.db.users.update({username:"shailendra"},{username:"shailendra Singh Rawat"})
NOTE: this command will only update one document

----to unset a property ,just use unset
db.users.update({<identifierjson>},{$unset:{<replacementJson>}})


---------to rpint the output in pretty form ,use pretty on find() method.
eg. db.users.find().pretty()

----adding to set
db.users.updaet({<condition1>,{$addToSet:{"key":"value"}}},boolean:toUpsertOrNot,boolean:isMultiUpdate)

IMPNOTE:  notice third and fourth arguments,if you set the multiupdate to true,then theis operation will be appliable to all matching documents.


---deleting the data
db.users.remove()  ----------will remove all teh documens from teh collection  ** careful

--if you need to remove only a few subset ,the
db.users.remove({"favorite_color":"orange"}) will only remove users whose favorite color is orange.

NOTE: remove will not remove the collection,rather remove the items from the collection,if you want to delete the collection use drop,equivalent to drop table.
db.users.drop()



----using help feature. just type --help 




--range queries using $gt and $lt ,$gte or $lte or $ne

db.users.find({user_id:{"$gt":500,"$lt":5000}})

--creating indexes
before indexing you have ot see which indexes your query is using,which all can be seen by examining the query plan using explain.

db.users.find({user_id:{"$gt":500,"$lt":5000}}).explain("executionStats)    returns:

{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "shailendra_database.users",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "$and" : [
                                {
                                        "user_id" : {
                                                "$lt" : 5000
                                        }
                                },
                                {
                                        "user_id" : {
                                                "$gt" : 500
                                        }
                                }
                        ]
                },
                "winningPlan" : {
                        "stage" : "COLLSCAN",
                        "filter" : {
                                "$and" : [
                                        {
                                                "user_id" : {
                                                        "$lt" : 5000
                                                }
                                        },
                                        {
                                                "user_id" : {
                                                        "$gt" : 500
                                                }
                                        }
                                ]
                        },
                        "direction" : "forward"
                },
                "rejectedPlans" : [ ]
        },
        "executionStats" : {
                "executionSuccess" : true,
                "nReturned" : 44,
                "executionTimeMillis" : 6,
                "totalKeysExamined" : 0,
                "totalDocsExamined" : 20003,
                "executionStages" : {
                        "stage" : "COLLSCAN",
                        "filter" : {
                                "$and" : [
                                        {
                                                "user_id" : {
                                                        "$lt" : 5000
                                                }
                                        },
                                        {
                                                "user_id" : {
                                                        "$gt" : 500
                                                }
                                        }
                                ]
                        },
                        "nReturned" : 44,
                        "executionTimeMillisEstimate" : 0,
                        "works" : 20005,
                        "advanced" : 44,
                        "needTime" : 19960,
                        "needYield" : 0,
                        "saveState" : 156,
                        "restoreState" : 156,
                        "isEOF" : 1,
                        "invalidates" : 0,
                        "direction" : "forward",
                        "docsExamined" : 20003
                }
        },
        "serverInfo" : {
                "host" : "f8d050b24bcc",
                "port" : 27017,
                "version" : "4.0.13",
                "gitVersion" : "bda366f0b0e432ca143bc41da54d8732bd8d03c0"
        },
        "ok" : 1
}

NOTE:
as you would notice that explain() will scan all 20003 records to return only a small subset. ,the value of totalKeysExamined is 0 which means
no indexing. this can be inefficient sometimes where you have large collections.also the time needed to run the query will be different in our
case it was 6 milliseconds.

you can create index using createIndex Method() as given below
you pass the document to the createIndex() in order to index  the document.
-----to get the indexes on the collection ,use the command getIndexes
eg.
db.users.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_",
                "ns" : "shailendra_database.users"
        },
        {
                "v" : 2,
                "key" : {
                        "user_id" : 1
                },
                "name" : "user_id_1",
                "ns" : "shailendra_database.users"
        }
]


-----------adminstrative commands
---show databases
show dbs

----to show collections
show collections

----alternative for getIndexes method on collection
db.runCommand({"listIndexes":"users"})  //runs the list index commands on user collection.


---getting db stats
db.stats()
---you can also runs stats on collections
db.users.stats()

----equivalent command   db.runCommand({dbStats:"users"})
db.stats()
The stats() method is a helper that wraps the method inside the runCommand
which is equilvalent to:
db.runCommand( {dbstats: 1} )
normally all the avaialbel commands can be run using runCommand


NOTE:mongo db always prints the implementation of the method which is not succeeded by () .

eg. db.runCommand   observe there are not ending parantheses.

---getting help
db.help()   returns the command to be run on the database
db.<collectionName>.help() returns the coammdn to be run on the collection 
eg. db.users.help()

to see the implementaion of the method ,just type the method without parenthesis.
